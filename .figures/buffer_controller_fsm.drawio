<mxfile host="app.diagrams.net" modified="2022-01-31T17:42:44.781Z" agent="5.0 (X11)" etag="PfPaTSbznAiGMeAZ1Ixs" version="16.5.2" type="github">
  <diagram id="vcOmwt670LHLFmOHfxU6" name="Page-1">
    <mxGraphModel dx="2272" dy="1893" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="8YBCCptctLdzBx9tajcS-1" value="s_rst" style="ellipse;shape=doubleEllipse;whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="240" y="160" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="8YBCCptctLdzBx9tajcS-2" value="&lt;div&gt;&lt;b&gt;Ports&lt;/b&gt;:&lt;/div&gt;&lt;div&gt;&lt;ul&gt;&lt;li&gt;t_sample_en : out std_logic (assigned output)&lt;br&gt;&lt;/li&gt;&lt;li&gt;t_sample_rest : out std_logic (assigned transition)&lt;br&gt;&lt;/li&gt;&lt;li&gt;t_sample_irq : in std_logic&lt;/li&gt;&lt;li&gt;t_sample_cnt : in std_logic_vector&lt;/li&gt;&lt;li&gt;t_period_en : out std_logic&lt;/li&gt;&lt;li&gt;t_period_rest : out std_logic&lt;/li&gt;&lt;li&gt;t_period_irq : in std_logic&lt;/li&gt;&lt;li&gt;t_period_cnt : in std_logic_vector&lt;/li&gt;&lt;li&gt;adc_din : in std_logic_vector&lt;/li&gt;&lt;li&gt;adc_ch : in std_logic_vector&lt;/li&gt;&lt;li&gt;adc_irq : in std_logic&lt;/li&gt;&lt;li&gt;bf_wr_addr : out std_logic_vector (assigned concurrently)&lt;br&gt;&lt;/li&gt;&lt;li&gt;bf_wr_data : out std_logic_vector (assigned concurrently)&lt;/li&gt;&lt;li&gt;bf_wr : out std_logic_vector (assigned concurrently)&lt;/li&gt;&lt;li&gt;bf_shift : out std_logic_vector (assigned transition)&lt;br&gt;&lt;/li&gt;&lt;li&gt;bf_busy : in std_logic_vector&lt;/li&gt;&lt;li&gt;bf_irq : in std_logic_vector&lt;/li&gt;&lt;li&gt;ch_out : out std_logic_vector&lt;/li&gt;&lt;li&gt;n_samples_out : std_logic_vector (assigned transition)&lt;br&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div&gt;&lt;b&gt;Signals:&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;ul&gt;&lt;li&gt;next_ch : unsigned &amp;lt;= 0&lt;/li&gt;&lt;li&gt;sampling : std_logic &amp;lt;= &#39;0&#39;&lt;/li&gt;&lt;li&gt;wr_addr_cnt : std_logic_vector&lt;/li&gt;&lt;li&gt;sample_start: std_logic&lt;/li&gt;&lt;li&gt;sample_stop: std_logic&lt;br&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;Concurrent statements:&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;ul&gt;&lt;li&gt;bf_wr &amp;lt;= &lt;span&gt;	&lt;/span&gt;adc_irq when sampling=&#39;1&#39; and adc_ch=next_ch else&lt;br&gt;&lt;span&gt;	&lt;/span&gt;&lt;span&gt;	&lt;/span&gt;&lt;span&gt;	&lt;/span&gt;&lt;span&gt;	&lt;/span&gt;&#39;0&#39;; (using generate statement)&lt;br&gt;&lt;/li&gt;&lt;li&gt;bf_wr_addr &amp;lt;= wr_addr_cnt;&lt;/li&gt;&lt;li&gt;bf_wr_data&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;lt;=&amp;nbsp; t_sample_cnt &amp;amp; adc_din;&lt;br&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;Auxiliary processes:&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;ul&gt;&lt;li&gt;Process to set sample_start upon sample timer irq and clear on rising edge of sampling&lt;br&gt;&lt;/li&gt;&lt;li&gt;Process to set sample_stop upon period timer irq and clear upon rising edge of bf_shift&lt;br&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" vertex="1" parent="1">
          <mxGeometry x="1140" y="-30" width="380" height="730" as="geometry" />
        </mxCell>
        <mxCell id="8YBCCptctLdzBx9tajcS-3" value="&lt;div&gt;s_sample&lt;/div&gt;&lt;div&gt;_first&lt;/div&gt;" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="40" y="320" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="8YBCCptctLdzBx9tajcS-6" value="" style="curved=1;endArrow=classic;html=1;rounded=0;" edge="1" parent="1" source="8YBCCptctLdzBx9tajcS-1" target="8YBCCptctLdzBx9tajcS-3">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="90" y="220" as="sourcePoint" />
            <mxPoint x="140" y="170" as="targetPoint" />
            <Array as="points">
              <mxPoint x="140" y="220" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="8YBCCptctLdzBx9tajcS-7" value="&lt;div&gt;/ next_ch &amp;lt;= 0&lt;/div&gt;&lt;div&gt;sampling &amp;lt;= &#39;1&#39;&lt;/div&gt;&lt;div&gt;wr_addr_cnt &amp;lt;= (others =&amp;gt; &#39;0&#39;)&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;bf_shift &amp;lt;= (others =&amp;gt; &#39;0&#39;)&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;t_sample_rest &amp;lt;= &#39;0&#39;&lt;/div&gt;&lt;div&gt;n_samples_out &amp;lt;= (others =&amp;gt; &#39;0&#39;)&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;rotation=-35;" vertex="1" parent="1">
          <mxGeometry x="10" y="175" width="190" height="90" as="geometry" />
        </mxCell>
        <mxCell id="8YBCCptctLdzBx9tajcS-8" value="s_sample" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="410" y="480" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="8YBCCptctLdzBx9tajcS-9" value="t_sample_en &amp;lt;= &#39;0&#39;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="220" y="130" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="8YBCCptctLdzBx9tajcS-10" value="t_sample_en &amp;lt;= &#39;0&#39;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-80" y="350" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="8YBCCptctLdzBx9tajcS-11" value="" style="curved=1;endArrow=classic;html=1;rounded=0;" edge="1" parent="1" source="8YBCCptctLdzBx9tajcS-3" target="8YBCCptctLdzBx9tajcS-8">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="210" y="410" as="sourcePoint" />
            <mxPoint x="260" y="360" as="targetPoint" />
            <Array as="points">
              <mxPoint x="250" y="360" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="8YBCCptctLdzBx9tajcS-12" value="t_sample_en &amp;lt;= &#39;1&#39;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="490" y="510" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="8YBCCptctLdzBx9tajcS-13" value="&lt;div&gt;if (rising_edge(adc_irq) and adc_ch = next_ch) /&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;rotation=25;" vertex="1" parent="1">
          <mxGeometry x="155" y="380" width="270" height="20" as="geometry" />
        </mxCell>
        <mxCell id="8YBCCptctLdzBx9tajcS-14" value="&lt;div&gt;s_sample&lt;/div&gt;&lt;div&gt;_wait&lt;/div&gt;" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="70" y="580" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="8YBCCptctLdzBx9tajcS-15" value="" style="curved=1;endArrow=classic;html=1;rounded=0;" edge="1" parent="1" source="8YBCCptctLdzBx9tajcS-8" target="8YBCCptctLdzBx9tajcS-14">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="260" y="600" as="sourcePoint" />
            <mxPoint x="310" y="550" as="targetPoint" />
            <Array as="points">
              <mxPoint x="250" y="500" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="8YBCCptctLdzBx9tajcS-17" value="&lt;div&gt;/ next_ch &amp;lt;= next_ch + 1&lt;/div&gt;&lt;div&gt;t_sample_rest &amp;lt;= &#39;0&#39;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;rotation=-20;" vertex="1" parent="1">
          <mxGeometry x="175" y="500" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8YBCCptctLdzBx9tajcS-18" value="&lt;div&gt;s_sample&lt;/div&gt;&lt;div&gt;_finish&lt;/div&gt;" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="575" y="660" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="8YBCCptctLdzBx9tajcS-20" value="" style="curved=1;endArrow=classic;html=1;rounded=0;" edge="1" parent="1" source="8YBCCptctLdzBx9tajcS-8" target="8YBCCptctLdzBx9tajcS-18">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="260" y="600" as="sourcePoint" />
            <mxPoint x="310" y="550" as="targetPoint" />
            <Array as="points">
              <mxPoint x="600" y="580" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="8YBCCptctLdzBx9tajcS-21" value="1" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="480" y="540" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="8YBCCptctLdzBx9tajcS-22" value="&lt;div&gt;if (next_ch = 11) /&lt;/div&gt;&lt;div&gt;sampling &amp;lt;= &#39;0&#39;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="575" y="570" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8YBCCptctLdzBx9tajcS-23" value="t_sample_en &amp;lt;= &#39;1&#39;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-50" y="610" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="8YBCCptctLdzBx9tajcS-25" value="" style="curved=1;endArrow=classic;html=1;rounded=0;" edge="1" parent="1" source="8YBCCptctLdzBx9tajcS-14" target="8YBCCptctLdzBx9tajcS-8">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="250" y="660" as="sourcePoint" />
            <mxPoint x="300" y="610" as="targetPoint" />
            <Array as="points">
              <mxPoint x="290" y="620" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="8YBCCptctLdzBx9tajcS-26" value="&lt;div&gt;if (rising_edge(adc_irq) and adc_ch = next_ch) /&lt;/div&gt;&lt;div&gt;if (next_ch = 0) then&lt;/div&gt;&lt;div&gt;t_sample_rest &amp;lt;= &#39;1&#39;&lt;/div&gt;&lt;div&gt;end if;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;rotation=-20;" vertex="1" parent="1">
          <mxGeometry x="180" y="600" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="8YBCCptctLdzBx9tajcS-27" value="t_sample_en &amp;lt;= &#39;1&#39;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="390" y="460" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="8YBCCptctLdzBx9tajcS-28" value="" style="curved=1;endArrow=classic;html=1;rounded=0;" edge="1" parent="1" source="8YBCCptctLdzBx9tajcS-18" target="8YBCCptctLdzBx9tajcS-14">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="270" y="750" as="sourcePoint" />
            <mxPoint x="320" y="700" as="targetPoint" />
            <Array as="points">
              <mxPoint x="290" y="750" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="8YBCCptctLdzBx9tajcS-29" value="&lt;div&gt;if (sample_start = &#39;1&#39;) /&lt;/div&gt;&lt;div&gt;next_ch &amp;lt;= 0&lt;/div&gt;&lt;div&gt;sampling &amp;lt;= &#39;1&#39;&lt;br&gt;&lt;/div&gt;wr_addr_cnt &amp;lt;= wr_addr_cnt + 1" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="280" y="730" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="8YBCCptctLdzBx9tajcS-30" value="t_sample_en &amp;lt;= &#39;1&#39;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="655" y="690" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="8YBCCptctLdzBx9tajcS-31" value="2" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="550" y="690" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="8YBCCptctLdzBx9tajcS-32" value="s_shift" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="470" y="930" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="8YBCCptctLdzBx9tajcS-33" value="" style="curved=1;endArrow=classic;html=1;rounded=0;" edge="1" parent="1" source="8YBCCptctLdzBx9tajcS-18" target="8YBCCptctLdzBx9tajcS-32">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="270" y="750" as="sourcePoint" />
            <mxPoint x="320" y="700" as="targetPoint" />
            <Array as="points">
              <mxPoint x="680" y="870" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="8YBCCptctLdzBx9tajcS-34" value="&lt;div&gt;if (sample_stop = &#39;1&#39;) /&lt;/div&gt;&lt;div&gt;n_samples_out &amp;lt;= wr_addr_cnt+1&lt;br&gt;&lt;/div&gt;&lt;div&gt;bf_shift &amp;lt;= (others =&amp;gt; &#39;1&#39;)&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="640" y="830" width="200" height="50" as="geometry" />
        </mxCell>
        <mxCell id="8YBCCptctLdzBx9tajcS-35" value="" style="curved=1;endArrow=classic;html=1;rounded=0;" edge="1" parent="1" source="8YBCCptctLdzBx9tajcS-32" target="8YBCCptctLdzBx9tajcS-32">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="270" y="750" as="sourcePoint" />
            <mxPoint x="320" y="700" as="targetPoint" />
            <Array as="points">
              <mxPoint x="600" y="990" />
              <mxPoint x="550" y="1060" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="8YBCCptctLdzBx9tajcS-36" value="1" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="635" y="730" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="8YBCCptctLdzBx9tajcS-37" value="/ bf_shift &amp;lt;= (others =&amp;gt; &#39;0&#39;)" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="590" y="1000" width="150" height="20" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
